# This is the main configuration file for Netdisco web and daemon apps
#
#    DO NOT EDIT THIS FILE
#
# Overrides should go to ~/environments/deployment.yml
# See App::Netdisco::Manual::Configuration for explanations

# ----------------
# GENERAL SETTINGS
# ----------------

log: 'warning'
logger_format: '[%P] %L @%D> %m'

# ------------
# WEB FRONTEND
# ------------

domain_suffix: ""
no_auth: false
suggest_guest: false
trust_remote_user: false
trust_x_remote_user: false
#ldap:
#  servers: []
#  user_string: 'MYDOMAIN\%USER%'
#  base: ""
#  proxy_user: ""
#  proxy_pass: ""
#  opts:
#    debug: 3
#  tls_opts: {}
path: '/'
web_plugins:
  - Inventory
  - Report::PortAdminDown
  - Report::PortBlocking
  - Report::PortMultiNodes
  - Report::PortUtilization
  - Report::ApChannelDist
  - Report::ApClients
  - Report::ApRadioChannelPower
  - Report::HalfDuplex
  - Report::DeviceAddrNoDNS
  - Report::DeviceByLocation
  - Report::DevicePoeStatus
  - Report::DuplexMismatch
  - Report::IpInventory
  - Report::NodeMultiIPs
  - Report::PhonesDiscovered
  - Report::SsidInventory
  - Report::VlanInventory
  - Report::SubnetUtilization
  - AdminTask::PortLog
  - AdminTask::JobQueue
  - AdminTask::Topology
  - AdminTask::PollerPerformance
  - AdminTask::PseudoDevice
  - AdminTask::SlowDevices
  - AdminTask::UndiscoveredNeighbors
  - AdminTask::OrphanedDevices
  - AdminTask::UserLog
  - AdminTask::Users
  - Search::Device
  - Search::Node
  - Search::VLAN
  - Search::Port
  - Device::Details
  - Device::Ports
  - Device::Modules
  - Device::Neighbors
  - Device::Addresses
extra_web_plugins: []

# -------------
# NETDISCO CORE
# -------------

# mibhome is discovered from environment
# mibdirs defaults to contents of mibhome
community: ['public']
community_rw: ['private']
snmp_auth: []
get_community: ""
bulkwalk_off: false
bulkwalk_no: []
bulkwalk_repeaters: 20
nonincreasing: false
snmpver: 3
snmptimeout: 1000000
snmpretries: 2
discover_no: []
discover_only: []
discover_no_type: []
discover_min_age: 0
macsuck_no: []
macksuck_only: []
macsuck_all_vlans: false
macsuck_no_unnamed: false
macsuck_no_vlan: [fddi-default,token-ring-default,fddinet-default,trnet-default]
macsuck_no_devicevlan: []
macsuck_bleed: false
macsuck_min_age: 0
snmpforce_v1: []
snmpforce_v2: []
snmpforce_v3: []
arpnip_no: []
arpnip_only: []
arpnip_min_age: 0
expire_devices: 0
expire_nodes: 0
expire_nodes_archive: 0
store_wireless_clients: true
store_modules: true
ignore_interfaces:
  - 'EOBC'
  - 'unrouted VLAN'
  - 'StackPort'
  - 'Control Plane Interface'
  - 'SPAN (S|R)P Interface'
  - 'StackSub-.*'
  - 'StackPort\d+'
  - 'netflow'
  - 'Vlan\d+-mpls layer'
  - 'BRI\S+-Bearer Channel'
  - 'BRI\S+-Physical'
  - 'BRI\S+-Signalling'
  - 'Embedded-Service-Engine\d+\/\d+'
  - 'Virtual-Template\d+'
  - 'Virtual-Access\d+'
  - '(E|T)\d \d\/\d\/\d'
ignore_private_nets: false
reverse_sysname: false
vlanctl: true
portctl_nophones: false
portctl_vlans: false
portctl_uplinks: false
check_userlog: true
port_control_reasons:
  address:     'Address Allocation Abuse'
  copyright:   'Copyright Violation'
  dos:         'Denial of Service'
  bandwidth:   'Excessive Bandwidth'
  polling:     'Excessive Polling of DNS/DHCP/SNMP'
  noserv:      'Not In Service'
  exploit:     'Remote Exploit Possible'
  compromised: 'System Compromised'
  other:       'Other'
  resolved:    'Issue Resolved'

# --------------
# BACKEND DAEMON
# --------------

workers:
  interactives: 2
  pollers: 5
  sleep_time: 2

dns:
  max_outstanding: 250
  no: ['fe80::/64','169.254.0.0/16']

#housekeeping:
#  discoverall:
#    when: '0 9 * * *'
#  arpwalk:
#    when:
#      min: 30
#  macwalk:
#    when:
#      min: 15
#      hour: '*/2'
#      wday: 'mon-fri'

# ---------------
# DANCER INTERNAL
# ---------------

charset: 'UTF-8'
warnings: false
show_errors: false
logger: 'console'
engines:
  template_toolkit:
    encoding: 'utf8'
    start_tag: '[%'
    end_tag: '%]'
    PRE_CHOMP: 1
layout: 'main'
plugins:
  Auth::Extensible:
    no_api_change_warning: true
    no_default_pages: true
    realms:
      users:
        provider: 'App::Netdisco::Web::Auth::Provider::DBIC'
        schema_name: 'netdisco'
session: 'YAML'
template: 'template_toolkit'
route_cache: true
appname: 'Netdisco'
behind_proxy: false
