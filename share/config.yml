# This is the main configuration file for Netdisco web and daemon apps
#
#    DO NOT EDIT THIS FILE
#
# Overrides should go to ~/environments/deployment.yml
# See App::Netdisco::Manual::Configuration for explanations

# ----------------
# GENERAL SETTINGS
# ----------------

log: 'warning'
logger: 'console'
logger_format: '[%P] %L @%D> %m'

# ------------
# WEB FRONTEND
# ------------

domain_suffix: ''
no_auth: false
port: 5000
path: '/'
behind_proxy: false
web_plugins:
  - Inventory
  - Report::DuplexMismatch
  - AdminTask::PseudoDevice
  - AdminTask::Topology
  - AdminTask::JobQueue
  - Search::Device
  - Search::Node
  - Search::VLAN
  - Search::Port
  - Device::Details
  - Device::Ports
  # - Device::Modules
  - Device::Neighbors
  - Device::Addresses
web_plugins_extra: []

# -------------
# NETDISCO CORE
# -------------

# mibhome is discovered from environment
# mibdirs defaults to contents of mibhome
community: ['public']
community_rw: ['private']
snmpver: 2
snmptimeout: 1000000
snmpretries: 2
discover_no: []
discover_only: []
discover_no_type: []
macsuck_all_vlans: false
macsuck_no_unnamed: false
macsuck_bleed: false
store_wireless_client: true
ignore_interfaces:
  - 'EOBC'
  - 'unrouted VLAN'
  - 'StackPort'
  - 'Control Plane Interface'
  - 'SPAN (S|R)P Interface'
  - 'StackSub'
  - 'netflow'
  - 'Vlan\d+-mpls layer'
  - 'BRI\S+-Bearer Channel'
  - 'BRI\S+-Physical'
  - 'BRI\S+-Signalling'
  - 'Embedded-Service-Engine\d+\/\d+'
  - 'Virtual-Template\d+'
  - 'Virtual-Access\d+'
  - '(E|T)\d \d\/\d\/\d'
ignore_private_nets: false
reverse_sysname: false
vlanctl: true
portctl_nophones: false
portctl_vlans: false
portctl_uplinks: false
no_port_control: false

# --------------
# BACKEND DAEMON
# --------------

workers:
  interactives: 2
  pollers: 2
  sleep_time: 5

#housekeeping:
#  discoverall:
#    when: '0 9 * * *'
#  arpwalk:
#    when:
#      min: 30
#  macwalk:
#    when:
#      hour: '*/2'

# ---------------
# DANCER INTERNAL
# ---------------

charset: 'UTF-8'
warnings: false
show_errors: false
engines:
  template_toolkit:
    encoding: 'utf8'
    start_tag: '[%'
    end_tag: '%]'
    PRE_CHOMP: 1
layout: 'main'
session: 'YAML'
template: 'template_toolkit'
route_cache: true
appname: 'Netdisco'

